---
title: "guidance_for_developers"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{guidance_for_developers}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

At present, this is just a handful of thoughts or 
points I thought worth recording about the development of 
`{nadir}`. 

  - I think debugging function factories is going to be hard. 
  How to improve the user experience here? 
  - I think to debug producing the `{pkgdown}` website, 
  I ended up using the advice here: <https://stackoverflow.com/questions/66806694/pkgdown-fails-parsing-rd-files-when-examples-are-added>, namely to make sure I have the development version of `downlit` installed.
  
```r
library(devtools)
install_github('r-lib/downlit')
```

  - The other advice I had to follow (and now I'm not sure which was the most important 
  in getting to a working `{pkgdown}` site, was that I needed to make sure I had
  up-to-date dependencies for `{pkgdown}` so it was important that I ran 
  `install.packages("pkgdown", dependencies = TRUE)`. 
  - Because the articles for the `{pkgdown}` website do take some time to compile, 
  I find it useful to know we can run each of the sub-components of `pkgdown::build_site()` 
  individually.  See: <https://pkgdown.r-lib.org/reference/build_site.html>
  - In order to get the `{pkgdown}` website to render the math properly 
  in the documentation for `nadir::lnr_homoskedastic_density()` I had to follow
  the advice in here <https://github.com/r-lib/pkgdown/issues/2704> from user 
  @louisaslett who said that they needed to include in `_pkgdown.yml` manually:

```yaml
template:
  bootstrap: 5
  includes:
    in_header: |
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
```

```{r setup}
# library(nadir)
```
